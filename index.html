---
layout: presentacion
title: OpenStack como herramienta didáctica
tema: white
---
<section data-background="img/openstack.png">
  <h2>OpenStack como herramienta didáctica</h2>
  <p>
    <a href="http://albertomolina.wordpress.com">Alberto Molina Coballes</a> y
    <a href="http://www.josedomingo.org">José Domingo Muñoz Rodríguez</a>
  </p>
  <p>
    <a href="http://creativecommons.org/licenses/by-sa/3.0/">
      <img src="img/cc_by_sa.png" width="100px" border="0"/></a>
  </p>
  <p><small>Primer encuentro OpenStack Sevilla. Sevilla 15 de Abril de 2015</small></p>
  <p><small>Theme by: <a href="http://lab.hakim.se/reveal-js/#/">reveal.js</a></small></p>
</section>
<section>
  <h2>Sobre nosotros</h2>
  <ul>
    <li>Profesores de Formación Profesional en
    el <a href="http://informatica.gonzalonazareno.org/portal/">IES Gonzalo
    Nazareno</a> de Dos Hermanas (Sevilla)</li> 
    <li>Administradores de Sistemas GNU/Linux</li>
    <li>Detectamos demanda de formación en cloud computing</li>
    <li>2011-2012: <a href="http://www.gonzalonazareno.org/cloud/">Proyecto de Innovación Mº Educación</a></li>
    <li>Administramos un cloud privado OpenStack desde Abril 2012</li>
  </ul>
</section>
<section>
  <h2>Objetivos iniciales (2011)</h2>
  <ul>
    <li>Conocer el Cloud Computing. Especialmente IaaS</li>
    <li>Formación Profesional: Aprendizaje a través de la práctica</li>
  </ul>
</section>
<section>
  <h2>Proyecto de Innovación</h2>
  <ul>
    <li>Proyecto desarrollado junto al IES Los Albares. Cieza (Murcia), IES La
      Campiña. Arahal (Sevilla) e IES Ingeniero la Cierva (Murcia)</li>
    <li>No participó ninguna empresa del sector ni ninguna otra
      administración</li>
    <li><a href="http://www.gonzalonazareno.org/cloud/">Resultados del
	proyecto</a>. La documentación técnica ya está obsoleta.</li>
    <li>Respuesta a los resultados:
      <ul>
	<li>Administración pública ...</li>
	<li>Empresas</li>
      </ul>
    </li>
  </ul>
</section>
<section>
  <h2>Características principales</h2>
  <ul>
    <li>Nube privada IaaS</li>
    <li>Software libre</li>
    <li>Inicialmente OpenNebula</li>
    <li>Finalmente OpenStack</li>
</section>
<section>
  <h2>¿Por qué OpenStack?</h2>
  <ul>
    <li>Porque queremos instalar nuestro propio software para
      proporcionar IaaS</li>
    <li>Porque tenemos demanda variable de infraestructura y queremos una
    autogestión ágil por parte de los usuarios</li>
    <li>Porque es software libre</li>
    <li>Porque es un proyecto estable,
      con <a href="http://www.openstack.org/foundation/companies/">muchos
      apoyos</a> y muy buenas perspectivas de futuro</li>
    <li>Porque tiene muchas funcionalidades</li>
    <li>Porque podemos utilizar hardware convencional</li>
  </ul>
</section>
<section data-background="#FFCC99">
  <section>
    <h2>OpenStack en el IES Gonzalo Nazareno</h2>
    <img src="img/logo-suma.png" width=80% alt="OpenStack IESGN" />
  </section>
  <section>
    <h2>2011-12</h2>
    <ul>
      <li>Primeras pruebas en equipos convencionales</li>
      <li>Nueva asignatura en 2º de ASIR sobre virtualización y cloud
      computing</li>
      <li>Empezamos con OpenNebula 3 y OpenStack Diablo</li> 
      <li>Adquisición de servidores</li>
      <li>Abril 2012: Instalación manual de OpenStack Essex (2012.1)
	sobre Debian Wheezy: Nova (KVM, nova-volume, nova-network),
	Keystone (SQL), Glance y Horizon. Nexentastor en el nodo de
	almacenamiento.</li>
      <li>Varios alumnos hicieron su proyecto final sobre alguno de los
      componentes de esta instalación</li>
    </ul>
  </section>
  <section>
    <h2>2012-13</h2>
    <ul>
      <li>Comienza la utilización en el aula: Sistemas, Servicios y
      Cloud Computing</li> 
      <li>Muy provechoso a pesar de encontrar numerosos errores</li>
      <li>Comienzan las colaboraciones esporádicas en "Debian OpenStack
      Packaging Team"</li> 
      <li>Se informa de algunos errores encontrados y se proponen parches</li>
      <li>Sólo se utiliza la nube para prácticas. Los servidores de la red siguen
	en MVs convencionales (KVM)</li>
    </ul>
  </section>
  <section>
    <h2>2013-14</h2>
    <ul>
      <li>Nueva instalación manual en Septiembre</li>
      <li>OpenStack Grizzly (2013.1) sobre Debian Wheezy (paquetes backport): Nova
	(KVM), Keystone (SQL), Glance, Cinder (LVM), Neutron (OVS) y Horizon</li> 
      <li>Inicialmente encontramos neutron muy complejo</li>
      <li>Creación de usuarios, proyectos y redes
	con <a href="https://github.com/iesgn/iesgncloud">adduser-cloud</a></li>
      <li>OpenStack más estable. Problemas con volúmenes e iscsi-target</li>
      <li>Alumnos formados en OpenStack, pero aún no detectamos demanda del
	sector</li>
    </ul>
  </section>
  <section>
    <h2>2014-15</h2>
    <ul>
      <li>Nueva instalación con ayuda
	de <a href="https://github.com/iesgn/openstack-debian-ansible">openstack-debian-ansible</a>. Últimos
	ajustes hechos manualmente.</li> 
      <li>OpenStack Icehouse (2014.1) sobre Debian Jessie: Nova (KVM), Keystone
	(SQL), Glance, Cinder (LVM), Neutron (OVS), Horizon (HTTPS) y Heat</li>
      <li>Sin problemas significativos. Muy buena experiencia por parte de los alumnos</li>
      <li>Comenzamos a detectar interés en OpenStack en el sector</li>
      <li>Empezamos a incluir algunos servicios no críticos en instancias</li>
    </ul>
  </section>
</section>
<section data-background="#A9D0F5">
  <section>
    <img src="img/esquema-iaas.png" alt="esquema iaas"/>
  </section>
  <section>
    <h2>Equipos</h2>
    <ul>
      <li><strong>1 nodo controlador: </strong>Equipo básico con 1 CPU y 12 GiB de
	RAM</li>
      <li><strong>1 nodo de red:</strong>Equipo básico con 1 CPU y 16 GiB de RAM</li>
      <li><strong>1 nodo de almacenamiento: </strong>Equipo con 24 GiB de RAM, 1
	SSD y 12 TiB en 6 HDs.</li>
      <li><strong>4 nodos de computación: </strong>8 CPUs (80 cores) y 192 GiB
	de RAM</li>
    </ul>
  </section>
  <section>
    <h2>Impresiones</h2>
    <ul>
      <li>Equipos sobredimensionados para la demanda real. Habitualmente sólo
	utilizamos dos nodos de computación</li>
      <li>El uso de RAM en los nodos controlador, de red y almacenamiento es
      bajo en nuestro entorno (4-5 GiB como máximo)</li>
      <li>Uso mínimo de CPU (entornos de pruebas)</li>
      <li>Relación inadecuada CPU/RAM. CPU allocation ratio: 16:1, RAM
      allocation ratio: 1.5:1</li>
      <li>Mejoras pendientes: Alta disponibilidad, KSM y Ceph</li>
      <li>Componentes a considerar: Swift, Designate, Trove y Sahara</li>
    </ul>
  </section>
</section>
<section data-background="#CC9999">
  <section>
    <h2>Uso didáctico</h2>
    <cite>"No hay apenas diferencias entre el aprendizaje teórico y el
    aprendizaje práctico. Al menos en teoría."</cite>
  </section>
  <section>
    <h2>Proyectos</h2>
    <p>Cada uno de los 70 alumnos cuenta con:</p>
    <ul>
      <li>Un proyecto en el que puede crear las redes, subredes y routers que
      desee</li>
      <li>Hasta 10 instancias</li>
      <li>Hasta 10 volúmenes</li>
      <li>Hasta 10 IPs flotantes</li>
      <li>Se monta una infraestructura similar mantenida por el propio alumno
      durante todo el curso. Por ejemplo: targaryen, stark, lannister y
      greyjoy</li>
    </ul>
  </section>
  <section>
    <h2>Otros elementos</h2>
    <ul>
      <li>Aprendizaje basado en proyectos</li>
      <li>Redmine</li>
      <li>OpenVPN</li>
    </ul>
  </section>
  <section>
    <h2>Ejemplo: Kerberizar ssh</h2>
    <ul>
      <p>Vamos a utilizar el servidor Kerberos de targeryen como sistema de
      autenticación para nuestros usuarios para que puedan acceder de un equipo 
	a otro por ssh.</p>
	<ol>
	  <li>Comprueba que todos los equipos de tu subdominio estén
	    correctamente definidos en el DNS. Verifica que todos los equipos
	    resuleven correctamente su propio FQDN</li> 
	  <li>Crea principales para los dos equipos en kerberos</li>
	  <li>Exporta el keytab del principal de stark y verifica los
	    permisos</li>
	  <li>Realiza las modificaciones necesarias para kerberizar el servicio
            ssh</li>
	  <li>Configura el cliente ssh de targaryen y stark para que el usuario
      "usuario" pueda acceder de forma transparente de uno a otro sin volver a
      autenticarse</li>
  </section>
</section>
<section>
  <h2>Conclusiones</h2>
  <ul>
    <li>Herramienta fundamental en el aprendizaje de los alumnos del IES Gonzalo
    Nazareno</li>
    <li>Proporciona una forma ágil y sencilla de autogestionar la
      infraestructura, que es muy adecuada para las prácticas</li>
    <li>Se aprende a administrar servidores de forma real</li>
    <li>Combinado con una VPN permite la utilización continua de la
    infraestructura</li> 
    <li>Evita las limitaciones del uso de una nube pública</li>
    <li>Supone mejorar las expectativas laborales de los alumnos</li>
    <li>Supone mucho trabajo para los profesores implicados, pero a la vez una
      enorme satisfacción y mejora en su formación</li>
  </ul>
</section>
<section>
  <h2>¡Gracias!</h2>
  <br/>
  <p>Alberto Molina Coballes</p>
  <p><a href="mailto:alb.molina@gmail.com">alb.molina@gmail.com</a> // 
    <a href="https://twitter.com/alberto_molina">@alberto_molina</a></p>
  <br/>
  <p>José Domingo Muñoz Rodríguez</p>
  <p><a href="mailto:josedom24@gmail.com">josedom24@gmail.com</a> // 
    <a href="https://twitter.com/pledin_jd">@pledin_jd</a></p>
</section>
